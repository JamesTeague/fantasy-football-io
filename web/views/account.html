<div class="row" ng-controller="AccountCtrl" ng-init="init()">
    <div class="row">
        <div class="col-lg-3 col-md-6 col-xs-12">
            <div class="widget">
                <div class="widget-body">
                    <div class="widget-icon green pull-left">
                        <i class="fa fa-users"></i>
                    </div>
                    <div class="widget-content pull-left">
                        <div class="title">{{user.sites.length}}</div>
                        <div class="comment">Accounts</div>
                    </div>
                    <div class="clearfix"></div>
                </div>
            </div>
        </div>

        <div class="col-lg-3 col-md-6 col-xs-12">
            <div class="widget">
                <div class="widget-body">
                    <div class="widget-icon blue pull-left">
                        <i class="fa fa-support"></i>
                    </div>
                    <div class="widget-content pull-left">
                        <div class="title">{{totalTeams}}</div>
                        <div class="comment">Teams</div>
                    </div>
                    <div class="clearfix"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="col-lg-12">
        <div class="widget">
            <div class="widget-title">
                <i class="fa fa-users"></i> Sites
                <a class="fa fa-plus btn btn-sm btn-success pull-right" ng-click="addSite()"></a>

                <div class="clearfix"></div>
            </div>
            <div class="widget-body no-padding">
                <table class="table">
                    <thead>
                    <tr>
                        <th class="text-center">Site</th>
                        <th></th>
                        <th>Options</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="site in user.sites">
                        <td class="text-center vmiddle">
                            <!--<h1>{{site.name}}</h1>-->
                            <img height="50px" ng-src="{{getImageSrc(site.name)}}"/>
                        </td>
                        <td>
                            <div ng-repeat="sport in site.sports">
                                <table class="table">
                                    <thead>
                                    <tr>
                                        <th>Active</th>
                                        <th>Team</th>
                                        <th>League</th>
                                    </tr>
                                    </thead>
                                    <tbody>

                                    <tr ng-repeat="team in sport.teams">
                                        <td>
                                            <h1>{{team.active}}</h1>
                                        </td>
                                        <td>
                                            <h1>{{team.name}}</h1>
                                        </td>
                                        <td>
                                            <h1>{{team.leagueName}}</h1>
                                        </td>
                                        <td>

                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </td>
                        <td class="text-center vmiddle">
                            <a class="fa fa-minus btn btn-sm btn-danger pull-right" ng-click="removeSite($index)"></a>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script type="text/ng-template" id="addSiteModal.html">
        <form name="addSiteForm">
            <div class="modal-header">
                <h4 class="modal-title">Add Site</h4>
            </div>
            <div class="modal-body" ng-disable="loading">

                <div class="input-group">
                    <div ng-repeat="site in siteOptions" class="siteOption" ng-click="selectSite(site)">
                        <img height="50px" ng-src="{{getImageSrc(site.name)}}"
                             ng-class="{'selectedSite' : (selectedSite.name === site.name)}"/>
                    </div>
                </div>

                <div style="margin-bottom: 25px" class="input-group">
                    <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                    <input name="site-username" type="text" class="form-control" name="email" ng-model="site.email"
                           placeholder="Email" required>
                </div>

                <div style="margin-bottom: 25px" class="input-group">
                    <span class="input-group-addon"><i class="glyphicon glyphicon-lock"></i></span>
                    <input name="site-password" type="password" class="form-control" name="password"
                           placeholder="Password" ng-model="site.password" required>
                </div>


                <div class="message error">
                    {{error}}
                </div>
            </div>
            <div class="modal-footer">
                <img src="../img/loading.gif" ng-if="loading">
                <button class="btn btn-primary" ng-click="ok()">Add</button>
                <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
            </div>
        </form>
    </script>
</div>
